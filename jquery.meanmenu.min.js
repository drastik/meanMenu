(function(a){a.fn.meanmenu=function(b){var c={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:true,meanExpandableChildren:true,meanExpand:"+",meanContract:"-",meanRemoveAttrs:false};var b=a.extend(c,b);currentWidth=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){var l=b.meanMenuTarget;var d=b.meanMenuContainer;var o=b.meanMenuClose;var r=b.meanMenuCloseSize;var g=b.meanMenuOpen;var e=b.meanRevealPosition;var h=b.meanRevealPositionDistance;var i=b.meanRevealColour;var t=b.meanRevealHoverColour;var n=b.meanScreenWidth;var p=b.meanNavPush;var k=".meanmenu-reveal";meanShowChildren=b.meanShowChildren;meanExpandableChildren=b.meanExpandableChildren;var v=b.meanExpand;var w=b.meanContract;var m=b.meanRemoveAttrs;if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))||(navigator.userAgent.match(/Android/i))||(navigator.userAgent.match(/Blackberry/i))||(navigator.userAgent.match(/Windows Phone/i))){var q=true}if((navigator.userAgent.match(/MSIE 8/i))||(navigator.userAgent.match(/MSIE 7/i))){jQuery("html").css("overflow-y","scroll")}function f(){if(e=="center"){var x=window.innerWidth||document.documentElement.clientWidth;var y=((x/2)-22)+"px";meanRevealPos="left:"+y+";right:auto;";if(!q){jQuery(".meanmenu-reveal").css("left",y)}else{jQuery(".meanmenu-reveal").animate({left:y})}}}menuOn=false;meanMenuExist=false;if(e=="right"){meanRevealPos="right:"+h+";left:auto;"}if(e=="left"){meanRevealPos="left:"+h+";right:auto;"}f();meanStyles="background:"+i+";color:"+i+";"+meanRevealPos;function j(){if(jQuery($navreveal).is(".meanmenu-reveal.meanclose")){$navreveal.html(o)}else{$navreveal.html(g)}}function u(){jQuery(".mean-bar,.mean-push").remove();jQuery(d).removeClass("mean-container");jQuery(l).show();menuOn=false;meanMenuExist=false}function s(){if(currentWidth<=n){meanMenuExist=true;jQuery(d).addClass("mean-container");jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var x=jQuery(l).html();jQuery(".mean-nav").html(x);if(m){jQuery("nav.mean-nav *").each(function(){jQuery(this).removeAttr("class");jQuery(this).removeAttr("id")})}jQuery(l).before('<div class="mean-push" />');jQuery(".mean-push").css("margin-top",p);jQuery(l).hide();jQuery(".meanmenu-reveal").show();jQuery(k).html(g);$navreveal=jQuery(k);jQuery(".mean-nav ul:not(.contextual-links)").hide();if(meanShowChildren){if(meanExpandableChildren){jQuery(".mean-nav ul:not(.contextual-links) ul").each(function(){if(jQuery(this).children().length){jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+r+'">'+v+"</a>")}});jQuery(".mean-expand").on("click",function(y){y.preventDefault();if(jQuery(this).hasClass("mean-clicked")){jQuery(this).text(v);jQuery(this).prev("ul").slideUp(300,function(){})}else{jQuery(this).text(w);jQuery(this).prev("ul").slideDown(300,function(){})}jQuery(this).toggleClass("mean-clicked")})}else{jQuery(".mean-nav ul:not(.contextual-links) ul").show()}}else{jQuery(".mean-nav ul:not(.contextual-links) ul").hide()}jQuery(".mean-nav ul:not(.contextual-links) li").last().addClass("mean-last");$navreveal.removeClass("meanclose");jQuery($navreveal).click(function(y){y.preventDefault();if(menuOn==false){$navreveal.css("text-align","center");$navreveal.css("text-indent","0");$navreveal.css("font-size",r);jQuery(".mean-nav ul:not(.contextual-links):first").slideDown();menuOn=true}else{jQuery(".mean-nav ul:not(.contextual-links):first").slideUp();menuOn=false}$navreveal.toggleClass("meanclose");j()})}else{u()}}if(!q){jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>n){u()}else{u()}if(currentWidth<=n){s();f()}else{u()}})}window.onorientationchange=function(){f();currentWidth=window.innerWidth||document.documentElement.clientWidth;if(currentWidth>=n){u()}if(currentWidth<=n){if(meanMenuExist==false){s()}}};s()})}})(jQuery);
